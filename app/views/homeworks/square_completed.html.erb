<p class="no-print"><%= link_to "計算トレーニングトップ", homeworks_path %>　印刷は「ctrl」+「p」です。</p>
<h2>平方完成</h2>
<div class="no-print">
  解答付き<input type='range' id='status' value='0' min='0' max='1' style='width:2em;' onchange='changeStatus()'>問題のみ<br><br>
</div>
以下の二次式を平方完成してね　　名前　　　　　　　　　　　　　　分　　秒
<table id="homework">
  <tr>
    <% @array.each_with_index do |single, index| %>
      <td style="height: 22vw; width: 49vw;" valign='top'>
        <% if single[0] == 1 %>
          x^2
        <% elsif single[0] == -1%>
          -x^2
        <% else %>
          <%= single[0] %> x^2
        <% end %>

        <% if single[1] * single[0] < 0 %>
          <%= single[1] * single[0] * 2 %>x
        <% else %>
          +<%= single[1] * single[0] * 2 %>x
        <% end %>

        <% if single[0] * single[1] * single[1] + single[2] < 0 %>
          <%= single[0] * single[1] * single[1] + single[2] %>
        <% elsif single[0] * single[1] * single[1] + single[2] > 0 %>
          +<%= single[0] * single[1] * single[1] + single[2] %>
        <% end %>
      </td>
      
      <% if index % 2 == 1 && index != 9 %>
        </tr><tr>
      <% end %>
    <% end %>
  </tr>
</table>

<div id="answer">
  <div style="break-after: page;"></div>
  以下の二次式を平方完成してね　　名前　　　　　　　　　　　　
  <% @array.each do |single| %>
    <div style="margin-top: 1em;">
      　
      <% if single[0] == 1 %>
        x^2
      <% elsif single[0] == -1%>
        -x^2
      <% else %>
        <%= single[0] %> x^2
      <% end %>

      <% if single[1] * single[0] < 0 %>
        <%= single[1] * single[0] * 2 %>x
      <% else %>
        +<%= single[1] * single[0] * 2 %>x
      <% end %>

      <% if single[0] * single[1] * single[1] + single[2] < 0 %>
        <%= single[0] * single[1] * single[1] + single[2] %>
      <% elsif single[0] * single[1] * single[1] + single[2] > 0 %>
        +<%= single[0] * single[1] * single[1] + single[2]%>
      <% end %><br>
      
      =

      <% if single[0] == 1 %>
      <% elsif single[0] == -1%>
        -
      <% else %>
        <%= single[0] %>
      <% end %>

      (x
      <% if single[1] < 0 %>
        <%= single[1] %>
      <% else %>
        +<%= single[1] %>
      <% end %>
      )^2

      <% if single[2] < 0 %>
        <%= single[2] %>
      <% elsif single[2] > 0 %>
        +<%= single[2] %>
      <% end %>
    </div>
  <% end %>

</div>

<script type="text/javascript">
  function changeStatus(){
    if ( $("#status").val() == "0" ) {
      $("#answer").attr("style", "");
    } else{
      $("#answer").attr("style", "display: none;");
    }
  }
</script>